<mvc:View
    controllerName="com.asayar.zasayarshopbspfree.controller.Detail"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.uxap"
    xmlns:smartForm="sap.ui.comp.smartform"
    xmlns:smartField="sap.ui.comp.smartfield"
    xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:m="sap.m"
>
    <ObjectPageLayout
        id="ObjectPageLayout"
        showTitleInHeaderContent="true"
        showFooter="true"
    >
        <headerTitle>
            <ObjectPageDynamicHeaderTitle>
                <expandedHeading>
                    <m:Title
                        text="Sipariş Detayı"
                        wrapping="true"
                    />
                </expandedHeading>
                <snappedHeading>
                    <m:Title
                        text="Sipariş Detayı"
                        wrapping="true"
                    />
                </snappedHeading>
            </ObjectPageDynamicHeaderTitle>
        </headerTitle>

        <sections>
            <ObjectPageSection title="Genel">
                <subSections>
                    <ObjectPageSubSection>
                        <blocks>
                            <smartForm:SmartForm
                                id="smartForm"
                                editable="{viewModel>/editable}"
                                title="Bilgiler"
                            >
                                <smartForm:Group label="Sipariş Verileri">
                                    <smartForm:GroupElement label="Sipariş No">
                                        <smartField:SmartField
                                            value="{OrderId}"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement label="Müşteri Adı">
                                        <smartField:SmartField
                                            value="{CustomerName}"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement
                                        label="Toplam Tutar"
                                    >
                                        <smartField:SmartField
                                            value="{TotalAmount}"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement label="Durum">
                                        <smartField:SmartField
                                            value="{OrderStatus}"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement label="Not">
                                        <smartField:SmartField
                                            value="{OrderNote}"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement
                                        label="Teslimat Tarihi"
                                    >
                                        <smartField:SmartField
                                            value="{DeliveryDate}"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement
                                        label="Oluşturma Tarihi"
                                    >
                                        <smartField:SmartField
                                            value="{CreationDate}"
                                        />
                                    </smartForm:GroupElement>
                                </smartForm:Group>
                            </smartForm:SmartForm>
                        </blocks>
                    </ObjectPageSubSection>
                </subSections>
            </ObjectPageSection>

            <ObjectPageSection title="Kalemler">
                <subSections>
                    <ObjectPageSubSection>
                        <blocks>
                            <smartTable:SmartTable
                                id="ItemsSmartTable"
                                entitySet="online_shopitem"
                                tableBindingPath="to_Items"
                                tableType="ResponsiveTable"
                                useExportToExcel="true"
                                useVariantManagement="false"
                                useTablePersonalisation="true"
                                header="Sipariş Kalemleri"
                                showRowCount="true"
                                enableAutoBinding="true"
                                editable="{viewModel>/editable}"
                                class="sapUiResponsiveContentPadding"
                            >
                                <smartTable:customToolbar>
                                    <m:OverflowToolbar design="Transparent">
                                        <m:ToolbarSpacer />
                                        <m:Button
                                            text="Kalem Ekle"
                                            icon="sap-icon://add"
                                            press=".onAddItem"
                                            type="Transparent"
                                            visible="{viewModel>/editable}"
                                        />
                                    </m:OverflowToolbar>
                                </smartTable:customToolbar>
                                <m:Table>
                                    <m:columns>
                                        <!-- Columns will be auto-generated from metadata -->
                                    </m:columns>
                                </m:Table>
                            </smartTable:SmartTable>
                        </blocks>
                    </ObjectPageSubSection>
                </subSections>
            </ObjectPageSection>
        </sections>

        <footer>
            <m:OverflowToolbar>
                <m:ToolbarSpacer />
                <m:Button
                    text="Düzenle"
                    press=".onEdit"
                    type="Emphasized"
                    visible="{= !${viewModel>/editable}}"
                />
                <m:Button
                    text="İptal"
                    press=".onCancel"
                    type="Reject"
                    visible="{viewModel>/editable}"
                />
                <m:Button
                    type="Emphasized"
                    text="Kaydet"
                    press=".onSave"
                    visible="{viewModel>/editable}"
                />
                <m:Button
                    text="Beşiktaş"
                    press=".onBesiktas"
                    type="Default"
                />
                <m:Button
                    text="John Lennon"
                    press=".onJohnLennon"
                    type="Default"
                />
            </m:OverflowToolbar>
        </footer>
    </ObjectPageLayout>
</mvc:View>
